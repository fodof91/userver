<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../favicon.svg">
<title>userver: formats::json::parser::TypedParser&lt; T &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<link rel="stylesheet" href="../../doxygen-like.css">
<script src="../../highlight.pack.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a class="titlelink" href="../../index.html">userver
   </a>
   </div>
   <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework (beta)</a></div>
  </td>
  <td style="float: right; padding-right: 40px; padding-top: 15px;">
    <a href="https://github.com/userver-framework/userver" rel="noopener" target="_blank" class="titlelink">
      <img src="../../github_logo.svg" alt="Github"/>
    </a>
    &nbsp;
    <a href="https://t.me/+i3k5A6V0oFgwNmYy" rel="noopener" id='telegram_channel' target="_blank" class="titlelink">
      <img src="../../telegram_logo.svg" alt="Telegram"/>
    </a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d5b/namespaceformats.html">formats</a></li><li class="navelem"><a class="el" href="../../de/da1/namespaceformats_1_1json.html">json</a></li><li class="navelem"><a class="el" href="../../d0/dc4/namespaceformats_1_1json_1_1parser.html">parser</a></li><li class="navelem"><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html">TypedParser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d1/de0/classformats_1_1json_1_1parser_1_1TypedParser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">formats::json::parser::TypedParser&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main base class for SAX parsers.  
 <a href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/de6/typed__parser_8hpp_source.html">userver/formats/json/parser/typed_parser.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for formats::json::parser::TypedParser&lt; T &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/d80/classformats_1_1json_1_1parser_1_1TypedParser__inherit__graph.png" border="0" usemap="#formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_inherit__map" id="formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_inherit__map">
<area shape="rect" title="Main base class for SAX parsers." alt="" coords="5,95,163,136"/>
<area shape="rect" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html" title="Base class for SAX parser." alt="" coords="5,5,163,47"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for formats::json::parser::TypedParser&lt; T &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d6/d40/classformats_1_1json_1_1parser_1_1TypedParser__coll__graph.png" border="0" usemap="#formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_coll__map" id="formats_1_1json_1_1parser_1_1TypedParser_3_01T_01_4_coll__map">
<area shape="rect" title="Main base class for SAX parsers." alt="" coords="5,200,163,241"/>
<area shape="rect" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html" title="Base class for SAX parser." alt="" coords="5,109,163,151"/>
<area shape="rect" href="../../d9/d49/classformats_1_1json_1_1parser_1_1ParserState.html" title=" " alt="" coords="5,5,163,47"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9232f21b97769645e560098f0b5216ad"><td class="memItemLeft" align="right" valign="top"><a id="a9232f21b97769645e560098f0b5216ad"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ResultType</b> = T</td></tr>
<tr class="separator:a9232f21b97769645e560098f0b5216ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adb8efd392e7a8fcd2e19695bc18fd063"><td class="memItemLeft" align="right" valign="top"><a id="adb8efd392e7a8fcd2e19695bc18fd063"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Subscribe</b> (<a class="el" href="../../d7/da2/classformats_1_1json_1_1parser_1_1Subscriber.html">Subscriber</a>&lt; T &gt; &amp;subscriber)</td></tr>
<tr class="separator:adb8efd392e7a8fcd2e19695bc18fd063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaab7fcb8c2e453994484acec78057aa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#abaab7fcb8c2e453994484acec78057aa">Reset</a> ()</td></tr>
<tr class="separator:abaab7fcb8c2e453994484acec78057aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255f3fcae90f6fa4b983ec26acd4c2fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html">TypedParser</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#a255f3fcae90f6fa4b983ec26acd4c2fc">GetParser</a> ()</td></tr>
<tr class="separator:a255f3fcae90f6fa4b983ec26acd4c2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classformats_1_1json_1_1parser_1_1BaseParser')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html">formats::json::parser::BaseParser</a></td></tr>
<tr class="memitem:a9c57d65e29121d8df0a6853481e2d85d inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a9c57d65e29121d8df0a6853481e2d85d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Null</b> ()</td></tr>
<tr class="separator:a9c57d65e29121d8df0a6853481e2d85d inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0cece0c224bcd7be41a703fe298b05 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a9f0cece0c224bcd7be41a703fe298b05"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Bool</b> (bool)</td></tr>
<tr class="separator:a9f0cece0c224bcd7be41a703fe298b05 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bb4779af62ddc6300839c29031e7f4 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a51bb4779af62ddc6300839c29031e7f4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Int64</b> (int64_t)</td></tr>
<tr class="separator:a51bb4779af62ddc6300839c29031e7f4 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773a90673e301d664f7b7510eaf7c8d8 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a773a90673e301d664f7b7510eaf7c8d8"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Uint64</b> (uint64_t)</td></tr>
<tr class="separator:a773a90673e301d664f7b7510eaf7c8d8 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a07cf4882abbfde04ad44649f48b82 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a67a07cf4882abbfde04ad44649f48b82"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Double</b> (double)</td></tr>
<tr class="separator:a67a07cf4882abbfde04ad44649f48b82 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1877365033d6b695a094e155182d8db inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="af1877365033d6b695a094e155182d8db"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>String</b> (std::string_view)</td></tr>
<tr class="separator:af1877365033d6b695a094e155182d8db inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680fc62a29ccde9c5d336a4db131b70a inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a680fc62a29ccde9c5d336a4db131b70a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>StartObject</b> ()</td></tr>
<tr class="separator:a680fc62a29ccde9c5d336a4db131b70a inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60373ac0440292729c6637cc09c96ae9 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a60373ac0440292729c6637cc09c96ae9"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Key</b> (std::string_view key)</td></tr>
<tr class="separator:a60373ac0440292729c6637cc09c96ae9 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e8d06032d2d0507cd9405d2a03bd94 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="af2e8d06032d2d0507cd9405d2a03bd94"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>EndObject</b> ()</td></tr>
<tr class="separator:af2e8d06032d2d0507cd9405d2a03bd94 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9810219ac581f1e1a3293467a5c10d53 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a9810219ac581f1e1a3293467a5c10d53"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>StartArray</b> ()</td></tr>
<tr class="separator:a9810219ac581f1e1a3293467a5c10d53 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4303415575f83343cf666efd577b9a50 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a4303415575f83343cf666efd577b9a50"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>EndArray</b> ()</td></tr>
<tr class="separator:a4303415575f83343cf666efd577b9a50 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006063f18980e0d4879004a611347c31 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a006063f18980e0d4879004a611347c31"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>EndObject</b> (size_t)</td></tr>
<tr class="separator:a006063f18980e0d4879004a611347c31 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eec62acee6a2975a15fa133888ee207 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a1eec62acee6a2975a15fa133888ee207"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>EndArray</b> (size_t)</td></tr>
<tr class="separator:a1eec62acee6a2975a15fa133888ee207 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f7c91fe84d3b0be75722b436ec5ed5 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="ae0f7c91fe84d3b0be75722b436ec5ed5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetState</b> (<a class="el" href="../../d9/d49/classformats_1_1json_1_1parser_1_1ParserState.html">ParserState</a> &amp;state)</td></tr>
<tr class="separator:ae0f7c91fe84d3b0be75722b436ec5ed5 inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b2911bb7e20a642f46ce039958f63b inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a45b2911bb7e20a642f46ce039958f63b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>GetPathItem</b> () const =0</td></tr>
<tr class="separator:a45b2911bb7e20a642f46ce039958f63b inherit pub_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afc2fa2ebfca9489eea76e61f5405011a"><td class="memItemLeft" align="right" valign="top"><a id="afc2fa2ebfca9489eea76e61f5405011a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetResult</b> (T &amp;&amp;value)</td></tr>
<tr class="separator:afc2fa2ebfca9489eea76e61f5405011a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classformats_1_1json_1_1parser_1_1BaseParser')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html">formats::json::parser::BaseParser</a></td></tr>
<tr class="memitem:a6a4510ac1c2dd875193f87b93c0ad944 inherit pro_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a6a4510ac1c2dd875193f87b93c0ad944"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Throw</b> (const std::string &amp;found)</td></tr>
<tr class="separator:a6a4510ac1c2dd875193f87b93c0ad944 inherit pro_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef868cf9313ead20d3f805b2fdd89a6b inherit pro_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="aef868cf9313ead20d3f805b2fdd89a6b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>Expected</b> () const =0</td></tr>
<tr class="separator:aef868cf9313ead20d3f805b2fdd89a6b inherit pro_methods_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classformats_1_1json_1_1parser_1_1BaseParser"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classformats_1_1json_1_1parser_1_1BaseParser')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html">formats::json::parser::BaseParser</a></td></tr>
<tr class="memitem:a518d3ef9eafa2fcb85fbdb4ec46e4a53 inherit pro_attribs_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memItemLeft" align="right" valign="top"><a id="a518d3ef9eafa2fcb85fbdb4ec46e4a53"></a>
<a class="el" href="../../d9/d49/classformats_1_1json_1_1parser_1_1ParserState.html">ParserState</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>parser_state_</b> {nullptr}</td></tr>
<tr class="separator:a518d3ef9eafa2fcb85fbdb4ec46e4a53 inherit pro_attribs_classformats_1_1json_1_1parser_1_1BaseParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class formats::json::parser::TypedParser&lt; T &gt;</h3>

<p>Main base class for SAX parsers. </p>
<p>There are two main groups of SAX parser classes:</p><ul>
<li>typed parser</li>
<li>proxy parser</li>
</ul>
<p><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html" title="Main base class for SAX parsers.">TypedParser</a> derivative is a parser that handles JSON tokens by itself. It implements methods of <a class="el" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html" title="Base class for SAX parser.">BaseParser</a> for handling specific tokens (e.g. Null(), StartArray(), Double()). Usually parser implements only 1-2 methods of <a class="el" href="../../dd/d76/classformats_1_1json_1_1parser_1_1BaseParser.html" title="Base class for SAX parser.">BaseParser</a> for handling a fixed set of JSON tokens and leaves default implementation for the rest (iow, treat other JSON tokens as a parse error).</p>
<p>Parser usually maintains its state as a field(s). Parse methods are called when a specific input token is read, and implementation updates the parser state. When finished, the parser calls SetResult() with the cooked value. It pops current parser from the parser stack and signals the subsriber with the result.</p>
<p><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html" title="Main base class for SAX parsers.">TypedParser</a> may delegate part of its job to subparsers. It is very common to define a parser for an object/array and reuse field parsers for JSON object fields parsing. A subparser is usually implemented as a field of a parser class. When such parser wants to start subobject parsing, it pushes the subparser onto the stack (and maybe calls some of its parse methods).</p>
<p>E.g.:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> SomeParser::Double(<span class="keywordtype">double</span> d) {</div>
<div class="line">  subparser_-&gt;Reset();</div>
<div class="line">  parser_state_-&gt;PushParser(subparser_.GetParser());</div>
<div class="line">  subparser_-&gt;Double(d);</div>
<div class="line">}</div>
</div><!-- fragment --><p>You may also implement a proxy parser. It derives neither from <a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html" title="Main base class for SAX parsers.">TypedParser</a> nor any other userver's parser class. A proxy parser is a class that delegates the whole job of input token handling to subparser(s), but somehow mutates the result (e.g. converts or validates it) - proxies the result. It doesn't implement any JSON token handling methods by itself. Usually proxy parser stores a subparser as a field and maybe stores some housekeeping settings for result handling.</p>
<p>Duck typing is used in proxy parsers to negate virtual methods overhead. A proxy parser must implement the following methods:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>ProxyParser final</div>
<div class="line">  : <span class="keyword">public</span> <a class="code" href="../../d7/da2/classformats_1_1json_1_1parser_1_1Subscriber.html">formats::json::parser::Subscriber</a>&lt;Subparser::ResultType&gt; {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// Define result type that will be passed to OnSend() of a subscriber</span></div>
<div class="line">  <span class="keyword">using</span> ResultType = Result;</div>
<div class="line"> </div>
<div class="line">  ProxyParser() {</div>
<div class="line">    <span class="comment">// Proxy parser wants to be called when the subparser</span></div>
<div class="line">    <span class="comment">// signals with the result</span></div>
<div class="line">    subparser.Subscribe(*<span class="keyword">this</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Reset() of proxy parser MUST call Reset() of subparsers in contrast to</span></div>
<div class="line">  <span class="comment">// a typed parser as a proxy parser doesn&#39;t control pushing of subparser</span></div>
<div class="line">  <span class="comment">// onto the stack.</span></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#abaab7fcb8c2e453994484acec78057aa">Reset</a>() {</div>
<div class="line">    subparser_.Reset();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> Subscribe(<a class="code" href="../../d7/da2/classformats_1_1json_1_1parser_1_1Subscriber.html">formats::json::parser::Subscriber&lt;Result&gt;</a>&amp; subscriber) {</div>
<div class="line">    subscriber_ = &amp;subscriber;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// The core method of proxy parser. It converts/filters the result value</span></div>
<div class="line">  <span class="comment">// and signals the (maybe mutated) result further to its subscriber.</span></div>
<div class="line">  <span class="keywordtype">void</span> OnSend(Subparser::ResultType&amp;&amp; result)<span class="keyword"> override </span>{</div>
<div class="line">    <span class="keywordflow">if</span> (subscriber_) subscriber_-&gt;OnSend(Result(std::move(result)));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Returns a typed parser that is responsible for actual JSON parsing.</span></div>
<div class="line">  <span class="keyword">auto</span>&amp; <a class="code" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#a255f3fcae90f6fa4b983ec26acd4c2fc">GetParser</a>() { <span class="keywordflow">return</span> subparser_.GetParser(); }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line">  Subparser subparser_;</div>
<div class="line">  Subscriber* subscriber_{<span class="keyword">nullptr</span>};</div>
<div class="line">}</div>
</div><!-- fragment --><p>An example of a proxy parser can be found in uservices repository:</p>
<p><a href="https://github.yandex-team.ru/taxi/uservices/blob/develop/libraries/codegen/include/codegen/parser/parser_dom.hpp">https://github.yandex-team.ru/taxi/uservices/blob/develop/libraries/codegen/include/codegen/parser/parser_dom.hpp</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html#l00133">133</a> of file <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html">typed_parser.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a255f3fcae90f6fa4b983ec26acd4c2fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255f3fcae90f6fa4b983ec26acd4c2fc">&#9670;&nbsp;</a></span>GetParser()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html">TypedParser</a>&lt;T&gt;&amp; <a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html">formats::json::parser::TypedParser</a>&lt; T &gt;::GetParser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns an actual parser. It is commonly used in PushParser() to identify typed parser of a proxy parser. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html#l00148">148</a> of file <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html">typed_parser.hpp</a>.</p>

</div>
</div>
<a id="abaab7fcb8c2e453994484acec78057aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaab7fcb8c2e453994484acec78057aa">&#9670;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html">formats::json::parser::TypedParser</a>&lt; T &gt;::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets parser's internal state. It should not call <a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#abaab7fcb8c2e453994484acec78057aa">Reset()</a> of subparsers (if any). Subparsers' <a class="el" href="../../d6/da9/classformats_1_1json_1_1parser_1_1TypedParser.html#abaab7fcb8c2e453994484acec78057aa">Reset()</a> should be called just before pushing it onto the stack. </p>

<p>Reimplemented in <a class="el" href="../../d4/d6a/classformats_1_1json_1_1parser_1_1ArrayParser.html#a28b6043744b7d5ff2bb1a8117b957f4f">formats::json::parser::ArrayParser&lt; Item, ItemParser, Array &gt;</a>, and <a class="el" href="../../d1/db3/classformats_1_1json_1_1parser_1_1MapParser.html#a4439648d59227c3bda0443b44d3c66d0">formats::json::parser::MapParser&lt; Map, ValueParser &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html#l00143">143</a> of file <a class="el" href="../../d7/de6/typed__parser_8hpp_source.html">typed_parser.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>userver/formats/json/parser/<a class="el" href="../../d7/de6/typed__parser_8hpp_source.html">typed_parser.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
<a id='page_edit' style="float:left; padding-left: 7pt;" href="#">⚒ Редактировать страницу</a>
<address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
<script type="text/javascript">
const LOWER_CASE_TRANSLITTERATION_MAPPING = {
    "а":"a", "б":"b", "в":"v", "г":"g", "д":"d", "е":"e", "ё":"jo", "ж":"zh",
    "з":"z", "и":"i", "й":"jj", "к":"k", "л":"l", "м":"m", "н":"n", "о":"o",
    "п":"p", "р":"r", "с":"s", "т":"t", "у":"u", "ф":"f", "х":"x", "ц":"c",
    "ч":"ch", "ш":"sh", "щ":"shh", "ъ":"\'", "ы":"y", "ь":"\'", "э":"je",
    "ю":"ju", "я":"ja"
};
const DOXYGEN_DIAMOND_STRING = '◆\u00A0' // ◆&nbsp;
function make_id(raw_id) {
    return raw_id.toLowerCase().split('').map(function (char) {
        return LOWER_CASE_TRANSLITTERATION_MAPPING[char] || char;
    }).join('').replace(/\W/g, '');
}
const html_escape = function () {
    const p = document.createElement('p');
    return function (text) {
        p.textContent = text;
        return p.innerHTML;
    };
}();
function setup_page_edit() {
    let href = window.location.href;
    const idx = href.indexOf('md_ru_');
    if (idx === -1) {
        $('#page_edit').hide();
        return;
    }
    href = href.substring(idx).split('.html')[0];
    href = href.split('#')[0];
    href = href.replace('md_ru_', 'https://wiki.yandex-team.ru/taxi/backend/');
    href = href.replaceAll('_', '/');
    $('#page_edit').attr("href", href + '/.edit');
}
function draw_toc() {
    let headers = $(':header');
    if (headers.length === 0) {
        return;
    }
    let sidenav_content = '<div id="mySidenav" class="sidenav">';
    sidenav_content += '<h2>Table of contents</h2>';
    headers.each(function() {
        let index = parseInt(this.nodeName.substring(1)) - 1;
        const header = $(this);
        let id = header.attr('id');
        if (!id) {
          id = make_id(header.text())
          header.attr('id', id);
        }
        let header_text = header.text()
        if (header_text.startsWith(DOXYGEN_DIAMOND_STRING)) {
            ++index;
            header_text = header_text.substring(DOXYGEN_DIAMOND_STRING.length);
        }
        sidenav_content += ''
          + '<a href="#' + id + '" style="padding-left: ' + index * 15 + 'px">'
          + '•&nbsp;' + html_escape(header_text)
          + '</a>'
        ;
        header.append(' <a class="hoverlink" href="#' + id + '">🔗</a>')
    });
    sidenav_content += '</div>';
    $(sidenav_content).insertAfter('.header');
}
function highlight_code() {
    if (window.location.href.indexOf("pp_source") !== -1
        || window.location.href.indexOf("cpp-example") !== -1) {
        // Header listing is already nicely highlighted by Doxygen
        return;
    }
    hljs.configure({
        tabReplace: '    ' // 4 spaces
    });
    hljs.registerAliases('py', {languageName: 'python'});
    hljs.registerAliases('sh', {languageName: 'shell'});
    hljs.registerAliases('bash', {languageName: 'shell'});
    hljs.registerAliases('yml', {languageName: 'yaml'});
    hljs.registerAliases('plain', {languageName: 'plaintext'});
    hljs.registerAliases('tskv', {languageName: 'plaintext'});
    $(".fragment").each(function() {
        const node = $(this);
        let data = '';
        let language = '';
        let requires_higlighting = true;
        node.children('div.line').each(function(i) {
            line = $(this).text();
            // Doxygen 1.8.11 workaround to remove line numbers.
            // No line numbers added in Doxygen 1.8.13
            line = line.replace(/^ *\d+\xA0/, '');
            if (i === 0) {
                line = line.trimLeft().replace(/^# /, '');
                if (line === 'autodetect') {
                    return true;
                } else if (hljs.getLanguage(line)) {
                    language = line;
                    return true;
                } else {
                    requires_higlighting = false;
                    return false;
                }
            }
            data += line + '\n';
        });
        if (requires_higlighting === false) {
            return;
        }
        if (language !== '') {
            data = hljs.highlight(language, data).value;
        } else {
            data = hljs.highlightAuto(data).value;
        }
        node.replaceWith('<div class="fragment"><pre>' + data + '</pre></div>');
    });
}
function setup_if_landing() {
    if (document.getElementById('landing_logo_id') === null) {
        return false;
    }
    $('#titlearea').hide();
    const main_nav = $('#main-nav')
    main_nav.addClass('main-nav-landing');
    main_nav.append('<hr>');
    $('.header').hide();
    $('body').css('background-color', 'black');
    $('#page_edit').hide();
    return true;
}
function sticky_menu() {
    const main_nav = $('#main-nav');
    const menu_y_position = 94;
    const search_results_window = $('#MSearchResultsWindow');
    var menu_is_sticky = false;
    const stick = function () {
        if ($(this).scrollTop() > menu_y_position) {
            if (menu_is_sticky) return;
            search_results_window.addClass('stickySearchResults');
            main_nav.addClass('stickyHeader');
            menu_is_sticky = true;
        } else {
            if (!menu_is_sticky) return;
            search_results_window.removeClass('stickySearchResults');
            // 'top' property of the results window is computed by Doxygen JS
            // and it may give bad results if the computation is invoked at the
            // middle of the page.
            //
            // Hiding the window. Doxygen will recompute and show it on new
            // user input.
            search_results_window.hide();
            main_nav.removeClass('stickyHeader');
            menu_is_sticky = false;
        }
    };
    stick();  // on page refresh draw the menu on a right position
    $(window).on("scroll", stick);
}
function telegram_channel_language() {
  if (/^ru/.test(navigator.language)) {
    const channel = $('#telegram_channel');
    if (channel) {
      channel.attr('href', 'https://t.me/+AdadhDPVG5xhNWRi');
    }
  }
}
$(function() {
    if (setup_if_landing()) return;
    draw_toc();
    highlight_code();
    setup_page_edit();
    telegram_channel_language();
    sticky_menu();
});
</script>
</body>
</html>
