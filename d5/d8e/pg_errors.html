<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../favicon.svg">
<title>userver: uPg: Postgres errors</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<link rel="stylesheet" href="../../doxygen-like.css">
<script src="../../highlight.pack.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a id='logo-anchor' href="../../index.html"><img alt="Logo" src="../../logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a class="titlelink" href="../../index.html">userver
   </a>
   </div>
   <div id="projectbrief"><a class="titlelink" href="../../index.html">C++ Async Framework (beta)</a></div>
  </td>
  <td style="float: right; padding-right: 40px; padding-top: 15px;">
    <a href="https://github.com/userver-framework/userver" rel="noopener" target="_blank" class="titlelink">
      <img src="../../github_logo.svg" alt="Github"/>
    </a>
    &nbsp;
    <a href="https://t.me/+i3k5A6V0oFgwNmYy" rel="noopener" id='telegram_channel' target="_blank" class="titlelink">
      <img src="../../telegram_logo.svg" alt="Telegram"/>
    </a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">uPg: Postgres errors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Base class for all PostgreSQL errors is <a class="el" href="../../df/d3d/classstorages_1_1postgres_1_1Error.html" title="Base class for all exceptions that may be thrown by the driver.">Error</a> which is derived from std::runtime_error. This is done to simplify exception handling.</p>
<p>There are two base types of errors: runtime (<a class="el" href="../../d6/d97/classstorages_1_1postgres_1_1RuntimeError.html" title="Base Postgres runtime error. Reports errors that are consequences of erroneous data,...">RuntimeError</a>) and logic (<a class="el" href="../../d4/d74/classstorages_1_1postgres_1_1LogicError.html" title="Base Postgres logic error. Reports errors that are consequences of erroneous driver usage,...">LogicError</a>).</p>
<p><b>Logic errors</b> are a consequence of faulty logic within the program such as violating logical preconditions or invariants and may be preventable by correcting the program.</p>
<p><b>Runtime errors</b> are due to events beyond the scope of the program, such as network failure, faulty configuration file, unique index violation etc. A user can catch such an error and recover from it by reconnecting, providing a decent default for configuration or modifying the key value.</p>
<p>Both logic and runtime errors can contain a postgres server message (<a class="el" href="../../d7/d9a/classstorages_1_1postgres_1_1Message.html">Message</a>). Those are ServerLogicError and ServerRuntimeError respectively. These errors occur on the server side and are translated into exceptions by the driver. Server errors are descendants of either ServerLogicError or ServerRuntimeError and their hierarchy corresponds to SQL error classes.</p>
<p>Some server errors, such as <a class="el" href="../../d5/d8f/classstorages_1_1postgres_1_1IntegrityConstraintViolation.html" title="Base class for integrity constraint violation errors. Doc: https://www.postgresql....">IntegrityConstraintViolation</a>, have a more detailed hierarchy to distinguish errors in catch clauses.</p>
<p>Server errors have the following hierarchy:</p><ul>
<li>ServerLogicError<ul>
<li><a class="el" href="../../d4/db9/classstorages_1_1postgres_1_1SqlStatementNotYetComplete.html">SqlStatementNotYetComplete</a></li>
<li><a class="el" href="../../db/d84/classstorages_1_1postgres_1_1FeatureNotSupported.html">FeatureNotSupported</a></li>
<li><a class="el" href="../../da/dca/classstorages_1_1postgres_1_1InvalidRoleSpecification.html">InvalidRoleSpecification</a></li>
<li><a class="el" href="../../de/d0b/classstorages_1_1postgres_1_1CardinalityViolation.html">CardinalityViolation</a></li>
<li><a class="el" href="../../d4/d47/classstorages_1_1postgres_1_1InvalidObjectName.html" title="Exception class for several Invalid * Name classes. Class 34 - Invalid Cursor Name Class 3D - Invalid...">InvalidObjectName</a></li>
<li><a class="el" href="../../d1/df6/classstorages_1_1postgres_1_1InvalidAuthorizationSpecification.html">InvalidAuthorizationSpecification</a></li>
<li><a class="el" href="../../d3/d71/classstorages_1_1postgres_1_1SyntaxError.html">SyntaxError</a></li>
<li><a class="el" href="../../da/d85/classstorages_1_1postgres_1_1AccessRuleViolation.html">AccessRuleViolation</a> (TODO Decide if this is actually a runtime error)</li>
</ul>
</li>
<li>ServerRuntimeError<ul>
<li><a class="el" href="../../d2/d86/classstorages_1_1postgres_1_1TriggeredActionException.html">TriggeredActionException</a></li>
<li><a class="el" href="../../d4/d97/classstorages_1_1postgres_1_1LocatorException.html">LocatorException</a></li>
<li><a class="el" href="../../d2/d3b/classstorages_1_1postgres_1_1InvalidGrantor.html">InvalidGrantor</a></li>
<li><a class="el" href="../../da/d42/classstorages_1_1postgres_1_1DiagnosticsException.html">DiagnosticsException</a></li>
<li><a class="el" href="../../d2/d3b/classstorages_1_1postgres_1_1DataException.html" title="Base class for data exceptions Doc: https://www.postgresql.org/docs/12/static/errcodes-appendix....">DataException</a></li>
<li><a class="el" href="../../d4/db6/classstorages_1_1postgres_1_1DuplicatePreparedStatement.html">DuplicatePreparedStatement</a></li>
<li><a class="el" href="../../d5/d8f/classstorages_1_1postgres_1_1IntegrityConstraintViolation.html" title="Base class for integrity constraint violation errors. Doc: https://www.postgresql....">IntegrityConstraintViolation</a><ul>
<li><a class="el" href="../../d9/daa/classstorages_1_1postgres_1_1RestrictViolation.html">RestrictViolation</a></li>
<li><a class="el" href="../../d4/d05/classstorages_1_1postgres_1_1NotNullViolation.html">NotNullViolation</a> (TODO Make it a logic error)</li>
<li><a class="el" href="../../dc/d35/classstorages_1_1postgres_1_1ForeignKeyViolation.html">ForeignKeyViolation</a></li>
<li><a class="el" href="../../d6/d84/classstorages_1_1postgres_1_1UniqueViolation.html">UniqueViolation</a></li>
<li><a class="el" href="../../d2/d9a/classstorages_1_1postgres_1_1CheckViolation.html">CheckViolation</a></li>
<li><a class="el" href="../../d4/d04/classstorages_1_1postgres_1_1ExclusionViolation.html">ExclusionViolation</a></li>
<li><a class="el" href="../../dd/da4/classstorages_1_1postgres_1_1TriggeredDataChangeViolation.html" title="Class 27 - Triggered Data Change Violation.">TriggeredDataChangeViolation</a></li>
<li><a class="el" href="../../d3/d04/classstorages_1_1postgres_1_1WithCheckOptionViolation.html" title="Class 44 - WITH CHECK OPTION Violation.">WithCheckOptionViolation</a></li>
</ul>
</li>
<li><a class="el" href="../../da/d66/classstorages_1_1postgres_1_1InvalidCursorState.html">InvalidCursorState</a></li>
<li><a class="el" href="../../dd/d26/classstorages_1_1postgres_1_1InvalidSqlStatementName.html" title="This exception is thrown in case a prepared statement doesn&#39;t exist.">InvalidSqlStatementName</a></li>
<li><a class="el" href="../../dd/dbd/classstorages_1_1postgres_1_1InvalidTransactionState.html">InvalidTransactionState</a></li>
<li><a class="el" href="../../d7/d24/classstorages_1_1postgres_1_1DependentPrivilegeDescriptorsStillExist.html">DependentPrivilegeDescriptorsStillExist</a></li>
<li><a class="el" href="../../d5/dde/classstorages_1_1postgres_1_1InvalidTransactionTermination.html">InvalidTransactionTermination</a></li>
<li><a class="el" href="../../dd/d8e/classstorages_1_1postgres_1_1ExternalRoutineException.html">ExternalRoutineException</a></li>
<li><a class="el" href="../../d3/d4a/classstorages_1_1postgres_1_1ExternalRoutineInvocationException.html">ExternalRoutineInvocationException</a></li>
<li><a class="el" href="../../dd/de3/classstorages_1_1postgres_1_1SavepointException.html">SavepointException</a></li>
<li><a class="el" href="../../d6/dcb/classstorages_1_1postgres_1_1SqlRoutineException.html">SqlRoutineException</a></li>
<li><a class="el" href="../../d1/dd2/classstorages_1_1postgres_1_1TransactionRollback.html">TransactionRollback</a></li>
<li><a class="el" href="../../d7/d54/classstorages_1_1postgres_1_1InsufficientResources.html">InsufficientResources</a></li>
<li><a class="el" href="../../df/d34/classstorages_1_1postgres_1_1ProgramLimitExceeded.html">ProgramLimitExceeded</a></li>
<li><a class="el" href="../../d9/dfa/classstorages_1_1postgres_1_1ObjectNotInPrerequisiteState.html">ObjectNotInPrerequisiteState</a></li>
<li><a class="el" href="../../da/dd5/classstorages_1_1postgres_1_1OperatorIntervention.html">OperatorIntervention</a><ul>
<li><a class="el" href="../../d7/d42/classstorages_1_1postgres_1_1QueryCancelled.html">QueryCancelled</a></li>
<li><a class="el" href="../../d8/d0c/classstorages_1_1postgres_1_1AdminShutdown.html">AdminShutdown</a></li>
<li><a class="el" href="../../db/d47/classstorages_1_1postgres_1_1CrashShutdown.html">CrashShutdown</a></li>
<li><a class="el" href="../../dd/d7a/classstorages_1_1postgres_1_1CannotConnectNow.html">CannotConnectNow</a></li>
<li><a class="el" href="../../d4/d00/classstorages_1_1postgres_1_1DatabaseDropped.html">DatabaseDropped</a></li>
</ul>
</li>
<li><a class="el" href="../../d0/d49/classstorages_1_1postgres_1_1SystemError.html">SystemError</a></li>
<li><a class="el" href="../../d1/da3/classstorages_1_1postgres_1_1SnapshotFailure.html">SnapshotFailure</a></li>
<li><a class="el" href="../../dd/d5f/classstorages_1_1postgres_1_1ConfigurationFileError.html">ConfigurationFileError</a></li>
<li><a class="el" href="../../d4/db1/classstorages_1_1postgres_1_1FdwError.html">FdwError</a></li>
<li><a class="el" href="../../db/d26/classstorages_1_1postgres_1_1PlPgSqlError.html">PlPgSqlError</a></li>
<li><a class="el" href="../../df/dc0/classstorages_1_1postgres_1_1InternalServerError.html">InternalServerError</a></li>
</ul>
</li>
</ul>
<p>Besides server errors there are exceptions thrown by the driver itself, those are:</p><ul>
<li><a class="el" href="../../d4/d74/classstorages_1_1postgres_1_1LogicError.html" title="Base Postgres logic error. Reports errors that are consequences of erroneous driver usage,...">LogicError</a><ul>
<li><a class="el" href="../../d5/d9d/classstorages_1_1postgres_1_1ResultSetError.html">ResultSetError</a><ul>
<li><a class="el" href="../../d3/d1e/classstorages_1_1postgres_1_1FieldIndexOutOfBounds.html" title="Result set has less columns that the requested index.">FieldIndexOutOfBounds</a></li>
<li><a class="el" href="../../d5/db8/classstorages_1_1postgres_1_1FieldNameDoesntExist.html" title="Result set doesn&#39;t have field with the requested name.">FieldNameDoesntExist</a></li>
<li><a class="el" href="../../d9/de9/classstorages_1_1postgres_1_1FieldTupleMismatch.html" title="A row was requested to be parsed based on field names/indexed, the count of names/indexes doesn&#39;t mat...">FieldTupleMismatch</a></li>
<li><a class="el" href="../../d8/d2e/classstorages_1_1postgres_1_1FieldValueIsNull.html" title="Data extraction from a null field value to a non-nullable type requested.">FieldValueIsNull</a></li>
<li><a class="el" href="../../df/dd8/classstorages_1_1postgres_1_1InvalidBinaryBuffer.html" title="Binary buffer contains invalid data. Can occur when parsing binary buffers containing multiple fields...">InvalidBinaryBuffer</a></li>
<li><a class="el" href="../../da/d14/classstorages_1_1postgres_1_1InvalidInputBufferSize.html" title="Buffer size is invalid for a fixed-size type. Can occur when a wrong field type is requested for repl...">InvalidInputBufferSize</a></li>
<li><a class="el" href="../../d5/d0d/classstorages_1_1postgres_1_1InvalidParserCategory.html" title="Field buffer contains different category of data than expected by data parser.">InvalidParserCategory</a></li>
<li><a class="el" href="../../da/d37/classstorages_1_1postgres_1_1InvalidTupleSizeRequested.html" title="A tuple was requested to be parsed out of a row that doesn&#39;t have enough fields.">InvalidTupleSizeRequested</a></li>
<li><a class="el" href="../../d2/dd0/classstorages_1_1postgres_1_1NonSingleColumResultSet.html" title="A row or result set requested to be treated as a single column, but contains more than one column.">NonSingleColumResultSet</a></li>
<li><a class="el" href="../../da/d2a/classstorages_1_1postgres_1_1NonSingleRowResultSet.html" title="A result set containing a single row was expected.">NonSingleRowResultSet</a></li>
<li><a class="el" href="../../dd/d9a/classstorages_1_1postgres_1_1NoBinaryParser.html" title="A field in a result set doesn&#39;t have a binary parser.">NoBinaryParser</a></li>
<li><a class="el" href="../../db/dea/classstorages_1_1postgres_1_1RowIndexOutOfBounds.html" title="Result set has less rows than the requested row index.">RowIndexOutOfBounds</a></li>
<li><a class="el" href="../../d7/df0/classstorages_1_1postgres_1_1TypeCannotBeNull.html" title="A value of a non-nullable type requested to be set null. Can occur if io::traits::IsNullable for the ...">TypeCannotBeNull</a></li>
<li><a class="el" href="../../dc/dd7/classstorages_1_1postgres_1_1UnknownBufferCategory.html" title="While checking result set types, failed to determine the buffer category for a type oid....">UnknownBufferCategory</a></li>
</ul>
</li>
<li><a class="el" href="../../d8/d1c/classstorages_1_1postgres_1_1UserTypeError.html" title="Base error when working with mapped types.">UserTypeError</a><ul>
<li><a class="el" href="../../de/dee/classstorages_1_1postgres_1_1CompositeSizeMismatch.html" title="PostgreSQL composite type has different count of members from the C++ counterpart.">CompositeSizeMismatch</a></li>
<li><a class="el" href="../../d4/dcf/classstorages_1_1postgres_1_1CompositeMemberTypeMismatch.html" title="PostgreSQL composite type has different member type that the C++ mapping suggests.">CompositeMemberTypeMismatch</a></li>
</ul>
</li>
<li><a class="el" href="../../d6/d1b/classstorages_1_1postgres_1_1ArrayError.html" title="Base error when working with array types.">ArrayError</a><ul>
<li><a class="el" href="../../d7/d98/classstorages_1_1postgres_1_1DimensionMismatch.html" title="Array received from postgres has different dimensions from those of C++ container.">DimensionMismatch</a></li>
<li><a class="el" href="../../da/d07/classstorages_1_1postgres_1_1InvalidDimensions.html">InvalidDimensions</a></li>
</ul>
</li>
<li><a class="el" href="../../d2/d86/classstorages_1_1postgres_1_1NumericError.html">NumericError</a><ul>
<li><a class="el" href="../../d0/d40/classstorages_1_1postgres_1_1NumericOverflow.html" title="Value in PostgreSQL binary buffer cannot be represented by a given C++ type.">NumericOverflow</a></li>
<li><a class="el" href="../../d0/dee/classstorages_1_1postgres_1_1ValueIsNaN.html">ValueIsNaN</a></li>
<li><a class="el" href="../../da/d3b/classstorages_1_1postgres_1_1InvalidRepresentation.html" title="Integral representation for a numeric contains invalid data.">InvalidRepresentation</a></li>
</ul>
</li>
<li><a class="el" href="../../d9/d89/classstorages_1_1postgres_1_1InvalidInputFormat.html" title="Invalid format for input data.">InvalidInputFormat</a></li>
<li><a class="el" href="../../d8/d70/classstorages_1_1postgres_1_1EnumerationError.html">EnumerationError</a><ul>
<li><a class="el" href="../../d0/d05/classstorages_1_1postgres_1_1InvalidEnumerationLiteral.html">InvalidEnumerationLiteral</a></li>
<li><a class="el" href="../../da/dc8/classstorages_1_1postgres_1_1InvalidEnumerationValue.html">InvalidEnumerationValue</a></li>
</ul>
</li>
<li><a class="el" href="../../da/d65/classstorages_1_1postgres_1_1TransactionError.html">TransactionError</a><ul>
<li><a class="el" href="../../dd/d03/classstorages_1_1postgres_1_1AlreadyInTransaction.html">AlreadyInTransaction</a></li>
<li><a class="el" href="../../d8/dcd/classstorages_1_1postgres_1_1NotInTransaction.html">NotInTransaction</a></li>
</ul>
</li>
<li><a class="el" href="../../d3/db3/classstorages_1_1postgres_1_1UnsupportedInterval.html">UnsupportedInterval</a></li>
<li><a class="el" href="../../d5/d44/classstorages_1_1postgres_1_1BoundedRangeError.html" title="PostgreSQL range type has at least one end unbound.">BoundedRangeError</a></li>
</ul>
</li>
<li><a class="el" href="../../d6/d97/classstorages_1_1postgres_1_1RuntimeError.html" title="Base Postgres runtime error. Reports errors that are consequences of erroneous data,...">RuntimeError</a><ul>
<li><a class="el" href="../../d1/dea/classstorages_1_1postgres_1_1ConnectionError.html">ConnectionError</a><ul>
<li><a class="el" href="../../d1/d0d/classstorages_1_1postgres_1_1ClusterUnavailable.html">ClusterUnavailable</a></li>
<li><a class="el" href="../../dc/d36/classstorages_1_1postgres_1_1CommandError.html" title="Error when invoking a libpq function.">CommandError</a></li>
<li><a class="el" href="../../d9/d90/classstorages_1_1postgres_1_1ConnectionFailed.html" title="Exception is thrown when a single connection fails to connect.">ConnectionFailed</a></li>
<li><a class="el" href="../../dd/d4f/classstorages_1_1postgres_1_1ServerConnectionError.html" title="Connection error reported by PostgreSQL server. Doc: https://www.postgresql.org/docs/12/static/errcod...">ServerConnectionError</a> (contains a message from server)</li>
<li><a class="el" href="../../d4/db0/classstorages_1_1postgres_1_1ConnectionTimeoutError.html" title="A network operation on a connection has timed out.">ConnectionTimeoutError</a></li>
</ul>
</li>
<li><a class="el" href="../../d1/de2/classstorages_1_1postgres_1_1ConnectionBusy.html" title="An attempt to make a query to server was made while there is another query in flight.">ConnectionBusy</a></li>
<li><a class="el" href="../../d0/d18/classstorages_1_1postgres_1_1ConnectionInterrupted.html" title="A network operation was interrupted by task cancellation.">ConnectionInterrupted</a></li>
<li><a class="el" href="../../d9/d12/classstorages_1_1postgres_1_1PoolError.html" title="Indicates errors during pool operation.">PoolError</a></li>
<li><a class="el" href="../../d1/df6/classstorages_1_1postgres_1_1ClusterError.html">ClusterError</a></li>
<li><a class="el" href="../../d9/db7/classstorages_1_1postgres_1_1InvalidConfig.html">InvalidConfig</a></li>
<li><a class="el" href="../../d9/dde/classstorages_1_1postgres_1_1InvalidDSN.html">InvalidDSN</a> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
<a id='page_edit' style="float:left; padding-left: 7pt;" href="#">⚒ Редактировать страницу</a>
<address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
<script type="text/javascript">
const LOWER_CASE_TRANSLITTERATION_MAPPING = {
    "а":"a", "б":"b", "в":"v", "г":"g", "д":"d", "е":"e", "ё":"jo", "ж":"zh",
    "з":"z", "и":"i", "й":"jj", "к":"k", "л":"l", "м":"m", "н":"n", "о":"o",
    "п":"p", "р":"r", "с":"s", "т":"t", "у":"u", "ф":"f", "х":"x", "ц":"c",
    "ч":"ch", "ш":"sh", "щ":"shh", "ъ":"\'", "ы":"y", "ь":"\'", "э":"je",
    "ю":"ju", "я":"ja"
};
const DOXYGEN_DIAMOND_STRING = '◆\u00A0' // ◆&nbsp;
function make_id(raw_id) {
    return raw_id.toLowerCase().split('').map(function (char) {
        return LOWER_CASE_TRANSLITTERATION_MAPPING[char] || char;
    }).join('').replace(/\W/g, '');
}
const html_escape = function () {
    const p = document.createElement('p');
    return function (text) {
        p.textContent = text;
        return p.innerHTML;
    };
}();
function setup_page_edit() {
    let href = window.location.href;
    const idx = href.indexOf('md_ru_');
    if (idx === -1) {
        $('#page_edit').hide();
        return;
    }
    href = href.substring(idx).split('.html')[0];
    href = href.split('#')[0];
    href = href.replace('md_ru_', 'https://wiki.yandex-team.ru/taxi/backend/');
    href = href.replaceAll('_', '/');
    $('#page_edit').attr("href", href + '/.edit');
}
function draw_toc() {
    let headers = $(':header');
    if (headers.length === 0) {
        return;
    }
    let sidenav_content = '<div id="mySidenav" class="sidenav">';
    sidenav_content += '<h2>Table of contents</h2>';
    headers.each(function() {
        let index = parseInt(this.nodeName.substring(1)) - 1;
        const header = $(this);
        let id = header.attr('id');
        if (!id) {
          id = make_id(header.text())
          header.attr('id', id);
        }
        let header_text = header.text()
        if (header_text.startsWith(DOXYGEN_DIAMOND_STRING)) {
            ++index;
            header_text = header_text.substring(DOXYGEN_DIAMOND_STRING.length);
        }
        sidenav_content += ''
          + '<a href="#' + id + '" style="padding-left: ' + index * 15 + 'px">'
          + '•&nbsp;' + html_escape(header_text)
          + '</a>'
        ;
        header.append(' <a class="hoverlink" href="#' + id + '">🔗</a>')
    });
    sidenav_content += '</div>';
    $(sidenav_content).insertAfter('.header');
}
function highlight_code() {
    if (window.location.href.indexOf("pp_source") !== -1
        || window.location.href.indexOf("cpp-example") !== -1) {
        // Header listing is already nicely highlighted by Doxygen
        return;
    }
    hljs.configure({
        tabReplace: '    ' // 4 spaces
    });
    hljs.registerAliases('py', {languageName: 'python'});
    hljs.registerAliases('sh', {languageName: 'shell'});
    hljs.registerAliases('bash', {languageName: 'shell'});
    hljs.registerAliases('yml', {languageName: 'yaml'});
    hljs.registerAliases('plain', {languageName: 'plaintext'});
    hljs.registerAliases('tskv', {languageName: 'plaintext'});
    $(".fragment").each(function() {
        const node = $(this);
        let data = '';
        let language = '';
        let requires_higlighting = true;
        node.children('div.line').each(function(i) {
            line = $(this).text();
            // Doxygen 1.8.11 workaround to remove line numbers.
            // No line numbers added in Doxygen 1.8.13
            line = line.replace(/^ *\d+\xA0/, '');
            if (i === 0) {
                line = line.trimLeft().replace(/^# /, '');
                if (line === 'autodetect') {
                    return true;
                } else if (hljs.getLanguage(line)) {
                    language = line;
                    return true;
                } else {
                    requires_higlighting = false;
                    return false;
                }
            }
            data += line + '\n';
        });
        if (requires_higlighting === false) {
            return;
        }
        if (language !== '') {
            data = hljs.highlight(language, data).value;
        } else {
            data = hljs.highlightAuto(data).value;
        }
        node.replaceWith('<div class="fragment"><pre>' + data + '</pre></div>');
    });
}
function setup_if_landing() {
    if (document.getElementById('landing_logo_id') === null) {
        return false;
    }
    $('#titlearea').hide();
    const main_nav = $('#main-nav')
    main_nav.addClass('main-nav-landing');
    main_nav.append('<hr>');
    $('.header').hide();
    $('body').css('background-color', 'black');
    $('#page_edit').hide();
    return true;
}
function sticky_menu() {
    const main_nav = $('#main-nav');
    const menu_y_position = 94;
    const search_results_window = $('#MSearchResultsWindow');
    var menu_is_sticky = false;
    const stick = function () {
        if ($(this).scrollTop() > menu_y_position) {
            if (menu_is_sticky) return;
            search_results_window.addClass('stickySearchResults');
            main_nav.addClass('stickyHeader');
            menu_is_sticky = true;
        } else {
            if (!menu_is_sticky) return;
            search_results_window.removeClass('stickySearchResults');
            // 'top' property of the results window is computed by Doxygen JS
            // and it may give bad results if the computation is invoked at the
            // middle of the page.
            //
            // Hiding the window. Doxygen will recompute and show it on new
            // user input.
            search_results_window.hide();
            main_nav.removeClass('stickyHeader');
            menu_is_sticky = false;
        }
    };
    stick();  // on page refresh draw the menu on a right position
    $(window).on("scroll", stick);
}
function telegram_channel_language() {
  if (/^ru/.test(navigator.language)) {
    const channel = $('#telegram_channel');
    if (channel) {
      channel.attr('href', 'https://t.me/+AdadhDPVG5xhNWRi');
    }
  }
}
$(function() {
    if (setup_if_landing()) return;
    draw_toc();
    highlight_code();
    setup_page_edit();
    telegram_channel_language();
    sticky_menu();
});
</script>
</body>
</html>
